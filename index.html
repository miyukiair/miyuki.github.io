<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>你好，GitHub</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
<h1>Line Liff</h1>
<div id="start"></div>
<div id="user">user:</div>
<div id="email">email:</div>
<div id="login">login:</div>
<script>
  var liffID = '1656330124-NVydBzxG';

  liff.init({
    liffId: liffID
  }).then(function() {
    var startDom = document.getElementById("start");
    startDom.textContent = "LIFF init";
    //console.log('LIFF init');

    // 這邊開始寫使用其他功能
    var login = liff.isLoggedIn();
    var loginDom = document.getElementById("login");
    loginDom.textContent = login ? 'true' : 'false';
    var user = liff.getDecodedIDToken();
    var userJson = JSON.stringify(user);
    var email = user.email;
    //console.log('user', user)
    var userDom = document.getElementById("user");
    userDom.textContent = userJson;
    var emailDom = document.getElementById("email");
    emailDom.textContent = email??none;
    console.log('email', email);

  }).catch(function(error) {
    console.log(error);
  });
</script>
</body>
</html>
